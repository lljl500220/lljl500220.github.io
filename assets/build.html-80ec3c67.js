const e=JSON.parse(`{"key":"v-5982b0f4","path":"/posts/learn/vue/build.html","title":"编写构建脚本","lang":"zh-CN","frontmatter":{"title":"编写构建脚本","icon":"edit","description":"build.js 在packages文件夹同级新建一个scripts文件夹，添加一个build.js文件。我们将通过这个文件来读取模块文件，并构建输出。 文件读取 由于vue3的核心代码使用分包的形式，分别写在packages/reactivity、packages/runtime-core、packages/shared等文件夹下，我们需要将这些文件读取出来，然后合并到一个文件中。 import fs from 'node:fs/promises'; //fs模块用于操作文件 import {existsSync,readfileSync} from 'node:fs'; //判断文件是否存在，读取文件 import path from 'node:path'; //path模块用于操作文件路径 import {creatrequire} from 'node:module'; //require模块用于引入模块","head":[["meta",{"property":"og:url","content":"https://lljl500220.github.io/posts/learn/vue/build.html"}],["meta",{"property":"og:site_name","content":"秦篆"}],["meta",{"property":"og:title","content":"编写构建脚本"}],["meta",{"property":"og:description","content":"build.js 在packages文件夹同级新建一个scripts文件夹，添加一个build.js文件。我们将通过这个文件来读取模块文件，并构建输出。 文件读取 由于vue3的核心代码使用分包的形式，分别写在packages/reactivity、packages/runtime-core、packages/shared等文件夹下，我们需要将这些文件读取出来，然后合并到一个文件中。 import fs from 'node:fs/promises'; //fs模块用于操作文件 import {existsSync,readfileSync} from 'node:fs'; //判断文件是否存在，读取文件 import path from 'node:path'; //path模块用于操作文件路径 import {creatrequire} from 'node:module'; //require模块用于引入模块"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-12T09:32:46.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-12T09:32:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"编写构建脚本\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-12T09:32:46.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"build.js","slug":"build-js","link":"#build-js","children":[{"level":3,"title":"文件读取","slug":"文件读取","link":"#文件读取","children":[]}]}],"git":{"createdTime":1712828287000,"updatedTime":1712914366000,"contributors":[{"name":"luolj","email":"luolj@si-tech.com.cn","commits":2}]},"readingTime":{"minutes":0.58,"words":174},"filePathRelative":"posts/learn/vue/build.md","localizedDate":"2024年4月11日","excerpt":"<h2> build.js</h2>\\n<p>在packages文件夹同级新建一个scripts文件夹，添加一个build.js文件。我们将通过这个文件来读取模块文件，并构建输出。</p>\\n<h3> 文件读取</h3>\\n<p>由于vue3的核心代码使用分包的形式，分别写在packages/reactivity、packages/runtime-core、packages/shared等文件夹下，我们需要将这些文件读取出来，然后合并到一个文件中。</p>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token keyword\\">import</span> fs <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'node:fs/promises'</span><span class=\\"token punctuation\\">;</span> <span class=\\"token comment\\">//fs模块用于操作文件</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span>existsSync<span class=\\"token punctuation\\">,</span>readfileSync<span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'node:fs'</span><span class=\\"token punctuation\\">;</span> <span class=\\"token comment\\">//判断文件是否存在，读取文件</span>\\n<span class=\\"token keyword\\">import</span> path <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'node:path'</span><span class=\\"token punctuation\\">;</span> <span class=\\"token comment\\">//path模块用于操作文件路径</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span>creatrequire<span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">'node:module'</span><span class=\\"token punctuation\\">;</span> <span class=\\"token comment\\">//require模块用于引入模块</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{e as data};
