import{_ as p,V as o,W as c,Y as n,Z as s,a0 as t,X as i,a2 as e,F as l}from"./framework-82b537ca.js";const u="/carefree/demo.png",r="/carefree/create.png",d="/carefree/electron1.png",k="/carefree/files.png",v="/carefree/åŠ¨ç”».gif",m={},b={href:"http://117.175.182.152:40004/",target:"_blank",rel:"noopener noreferrer"},h=n("h2",{id:"å…ˆæ¥çœ‹ä¸€ä¸‹æ•ˆæœå›¾å§",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å…ˆæ¥çœ‹ä¸€ä¸‹æ•ˆæœå›¾å§","aria-hidden":"true"},"#"),s(" å…ˆæ¥çœ‹ä¸€ä¸‹æ•ˆæœå›¾å§ï¼")],-1),g=n("figure",null,[n("img",{src:u,alt:"demo",tabindex:"0",loading:"lazy"}),n("figcaption",null,"demo")],-1),w={href:"https://github.com/lljl500220/electron",target:"_blank",rel:"noopener noreferrer"},f=n("h2",{id:"åˆå§‹åŒ–ã€æ–°å»ºé¡¹ç›®",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#åˆå§‹åŒ–ã€æ–°å»ºé¡¹ç›®","aria-hidden":"true"},"#"),s(" åˆå§‹åŒ–ã€æ–°å»ºé¡¹ç›®")],-1),_=n("p",null,"æœ¬å¤„åªè€ƒè™‘windowsç³»ç»Ÿï¼Œä¸ºä»€ä¹ˆæï¼Œå› ä¸ºæœ¬å¤§äººæ²¡æœ‰macï¼",-1),y={href:"https://cn-evite.netlify.app/guide/",target:"_blank",rel:"noopener noreferrer"},x=n("br",null,null,-1),E=e(`<ol><li>node14+</li><li>npx &amp;&amp; yarn</li></ol><p>åœ¨æ§åˆ¶å°ä¸­æ‰§è¡Œä»¥ä¸‹è¯­å¥ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> create @quick-start/electron
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åæŒ‰éƒ¨å°±ç­çš„æ ¹æ®æç¤ºï¼Œåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚</p><figure><img src="`+r+`" alt="æ–°å»ºé¡¹ç›®" tabindex="0" loading="lazy"><figcaption>æ–°å»ºé¡¹ç›®</figcaption></figure><p>ä½¿ç”¨ç¼–è¾‘å™¨æ‰“å¼€è¯¥é¡¹ç›®ï¼Œæˆ‘ä¹ æƒ¯ä½¿ç”¨webstormï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨vscodeæˆ–è€…å…¶å®ƒä½ å–œæ¬¢çš„å·¥å…·, æ‰§è¡Œinstall.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
//æ‰§è¡Œå®Œæ¯•ä¹‹å
<span class="token function">npm</span> run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>node.jså°†ä¸ºä½ æ‰“å¼€è¿™æ ·ä¸€ä¸ªé¢„è§ˆç¨‹åºï¼š</p><figure><img src="`+d+'" alt="åˆå§‹ç•Œé¢" tabindex="0" loading="lazy"><figcaption>åˆå§‹ç•Œé¢</figcaption></figure><p>å½“ä½ çœ‹åˆ°ä¸Šå›¾è¿™æ ·ç•Œé¢çš„æ—¶å€™ï¼Œæ­å–œä½ ï¼Œå·²ç»å®Œæˆäº†æœ€é‡è¦çš„ä¸€æ­¥å•¦!ğŸ‰ğŸ‰ğŸ‰ã€‚æˆ‘ä»¬ç°åœ¨å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªelectronç¨‹åºçš„é›å½¢ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¦å°†å…¶å®Œå–„ï¼Œ å·¥ä½œå†…å®¹å°±å’Œä½¿ç”¨vue3å¼€å‘ä¸€ä¸ªwebåº”ç”¨æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«äº†ã€‚å¦‚æœä½ æ‹¥æœ‰ä¸€å®šçš„vue3å¼€å‘ç»éªŒï¼Œé‚£åªéœ€è¦é˜…è¯»<a href="#%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1">è¿›ç¨‹é€šä¿¡</a>ã€<a href="#%E4%B8%BB%E8%BF%9B%E7%A8%8B">ä¸»è¿›ç¨‹</a>ã€<a href="#%E9%A2%84%E5%8A%A0%E8%BD%BD%E8%84%9A%E6%9C%AC">é¢„åŠ è½½è„šæœ¬</a>ã€ <a href="#%E6%B8%B2%E6%9F%93%E8%BF%9B%E7%A8%8B">æ¸²æŸ“è¿›ç¨‹</a>ç­‰ç« èŠ‚å³å¯ã€‚</p><h2 id="è¿›ç¨‹é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#è¿›ç¨‹é€šä¿¡" aria-hidden="true">#</a> è¿›ç¨‹é€šä¿¡</h2><h3 id="ä¸»è¿›ç¨‹" tabindex="-1"><a class="header-anchor" href="#ä¸»è¿›ç¨‹" aria-hidden="true">#</a> ä¸»è¿›ç¨‹</h3><p>electronç¨‹åºä½¿ç”¨chromiumå’Œnode.jsä½œä¸ºè¿è¡Œç¯å¢ƒï¼Œå°†äºŒè€…ä½œä¸ºäºŒè¿›åˆ¶æ‰“åŒ…è¿›å…¥exeæ–‡ä»¶ä¸­ï¼Œä½¿å¾—é™æ€çš„htmlé¡µé¢èƒ½å¤Ÿæ¨¡æ‹Ÿæ¡Œé¢åº”ç”¨çš„æ ·å­è¿è¡Œã€‚</p>',13),W={href:"https://www.electronjs.org/zh/docs/latest/tutorial/process-model",target:"_blank",rel:"noopener noreferrer"},B=e('<p>electronæ‹¥æœ‰ä¸€ä¸ªä¸»è¿›ç¨‹+nä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹è¿è¡Œåœ¨node.jsä¸­ï¼Œæ‹¥æœ‰node apiã€‚æ¸²æŸ“è¿›ç¨‹è¿è¡Œåœ¨chromiumï¼Œæ‹¥æœ‰æµè§ˆå™¨apiï¼Œä¸¤è€…ä¹‹é—´ä¸å¯ä»¥ç›´æ¥è¿›è¡Œé€šä¿¡(ä¸ºäº†å®‰å…¨è€ƒè™‘)</p><p>ä¸»è¿›ç¨‹ä¸€èˆ¬ç”¨äºç®¡ç†çª—å£ï¼Œä»¥åŠå…¶å®ƒçš„æœ‰å…³nodeã€ç³»ç»Ÿçš„äº‹ä»¶ã€‚</p><h3 id="æ¸²æŸ“è¿›ç¨‹" tabindex="-1"><a class="header-anchor" href="#æ¸²æŸ“è¿›ç¨‹" aria-hidden="true">#</a> æ¸²æŸ“è¿›ç¨‹</h3><p>å¯ä»¥ç†è§£ä¸ºæµè§ˆå™¨æ‰“å¼€çš„ä¸€ä¸ªä¸ªtabä¸€æ ·ï¼Œgoogleæµè§ˆå™¨çš„å¤šè¿›ç¨‹æ¨¡å¼ä¹Ÿæ˜¯åŸºäºè¿™æ ·çš„è®¾è®¡å®Œæˆçš„ã€‚åˆšåˆšæˆ‘ä»¬æ‰“å¼€çš„é‚£ä¸ªé¡µé¢ï¼ŒåµŒå…¥çš„index.htmlå°±æ˜¯ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œè€Œæ‰“å¼€è¿™ä¸ªçª—å£çš„èƒ½åŠ›å°±æ˜¯æ¥è‡ªä¸»è¿›ç¨‹ã€‚</p><h3 id="é¢„åŠ è½½è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#é¢„åŠ è½½è„šæœ¬" aria-hidden="true">#</a> é¢„åŠ è½½è„šæœ¬</h3><p>ä¸Šæ–‡è¯´åˆ°ï¼Œä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´æ— æ³•è¿›è¡Œç›´æ¥é€šä¿¡ï¼Œé‚£æœ‰äº›å†…å®¹åˆç¡®å®éœ€è¦è¿›è¡Œé€šä¿¡è¯¥å’‹åŠå’§ï¼Ÿæ­ä¸ªæ¡¥å˜›ï¼Œæ‰€ä»¥é¢„åŠ è½½è„šæœ¬å°±åº”è¿è€Œç”Ÿï¼Œå®ƒä½œä¸ºä¸€ä¸ªä¸­é—´ä»¶æä¾›äº†ä¸»è¿›ç¨‹å¾€æ¸²æŸ“è¿›ç¨‹ä¼ é€’å†…å®¹æˆ–è€… æ¸²æŸ“è¿›ç¨‹å¾€ä¸»è¿›ç¨‹è¯·æ±‚å†…å®¹çš„èƒ½åŠ›ã€‚</p><h3 id="ä¸»è¿›ç¨‹å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#ä¸»è¿›ç¨‹å®ä¾‹" aria-hidden="true">#</a> ä¸»è¿›ç¨‹å®ä¾‹</h3><p>æ‰“å¼€æ–°å»ºå¥½çš„å·¥ç¨‹ï¼Œå…¶ç»“æ„åº”è¯¥é•¿è¿™æ ·ï¼š</p><figure><img src="'+k+`" alt="ç›®å½•ç»“æ„" tabindex="0" loading="lazy"><figcaption>ç›®å½•ç»“æ„</figcaption></figure><p>ä¸»è¿›ç¨‹åº”è¯¥è¢«å†™åœ¨/src/main/index.tsæ–‡ä»¶ä¸­ï¼Œä¸€èµ·æ¥çœ‹ä¸‹è¿™ä¸ªæ–‡ä»¶ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">//index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> app<span class="token punctuation">,</span> shell<span class="token punctuation">,</span> BrowserWindow <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;electron&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> join <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> electronApp<span class="token punctuation">,</span> optimizer<span class="token punctuation">,</span> <span class="token keyword">is</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@electron-toolkit/utils&#39;</span>
<span class="token keyword">import</span> icon <span class="token keyword">from</span> <span class="token string">&#39;../../resources/icon.png?asset&#39;</span>

<span class="token keyword">function</span> <span class="token function">createWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ–°å»ºçª—å£</span>
    <span class="token keyword">const</span> mainWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        width<span class="token operator">:</span> <span class="token number">900</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token number">670</span><span class="token punctuation">,</span>
        show<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        autoHideMenuBar<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token operator">...</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>platform <span class="token operator">===</span> <span class="token string">&#39;linux&#39;</span> <span class="token operator">?</span> <span class="token punctuation">{</span> icon <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        webPreferences<span class="token operator">:</span> <span class="token punctuation">{</span>
            preload<span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../preload/index.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            sandbox<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    mainWindow<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;ready-to-show&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        mainWindow<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    mainWindow<span class="token punctuation">.</span>webContents<span class="token punctuation">.</span><span class="token function">setWindowOpenHandler</span><span class="token punctuation">(</span><span class="token punctuation">(</span>details<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        shell<span class="token punctuation">.</span><span class="token function">openExternal</span><span class="token punctuation">(</span>details<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> action<span class="token operator">:</span> <span class="token string">&#39;deny&#39;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// å¦‚æœæ˜¯åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼ŒloadURLæ–¹æ³•ä¼šåŠ è½½viteæœåŠ¡çš„åœ°å€ï¼Œæ¯”å¦‚http://localhost:8080</span>
    <span class="token comment">// å¦‚æœæ˜¯æ‰“åŒ…ä¹‹åï¼ŒloadFileæ–¹æ³•ä¼šåŠ è½½ä¸€ä¸ªåŸºäºå½“å‰æ–‡ä»¶å¤¹åœ°å€åŠ ä¸Šrenderer/index.htmlçš„æ–‡ä»¶</span>
    <span class="token comment">// å…¶å®å°±æ˜¯æˆ‘ä»¬vueç¨‹åºçš„é‚£ä¸ªindex.html</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">is</span><span class="token punctuation">.</span>dev <span class="token operator">&amp;&amp;</span> process<span class="token punctuation">.</span>env<span class="token punctuation">[</span><span class="token string">&#39;ELECTRON_RENDERER_URL&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mainWindow<span class="token punctuation">.</span><span class="token function">loadURL</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">[</span><span class="token string">&#39;ELECTRON_RENDERER_URL&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        mainWindow<span class="token punctuation">.</span><span class="token function">loadFile</span><span class="token punctuation">(</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../renderer/index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// whenReadyæ–¹æ³•ä¼šå‘Šè¯‰ä½ electronå·²ç»å‡†å¤‡å¥½äº†ï¼Œå¯ä»¥åŠ è½½äº†</span>
<span class="token comment">// æ­¤å¤–ï¼Œæœ‰å¾ˆå¤šçš„æ–¹æ³•å’Œapiåªèƒ½åœ¨whenReadyä¹‹åä½¿ç”¨ï¼Œæ¯”å¦‚icpæ¨¡å—</span>
app<span class="token punctuation">.</span><span class="token function">whenReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Set app user model id for windows</span>
    electronApp<span class="token punctuation">.</span><span class="token function">setAppUserModelId</span><span class="token punctuation">(</span><span class="token string">&#39;com.electron&#39;</span><span class="token punctuation">)</span>

    <span class="token comment">// Default open or close DevTools by F12 in development</span>
    <span class="token comment">// and ignore CommandOrControl + R in production.</span>
    <span class="token comment">// see https://github.com/alex8088/electron-toolkit/tree/master/packages/utils</span>
    app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;browser-window-created&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> window<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        optimizer<span class="token punctuation">.</span><span class="token function">watchWindowShortcuts</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">createWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;activate&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// On macOS it&#39;s common to re-create a window in the app when the</span>
        <span class="token comment">// dock icon is clicked and there are no other windows open.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>BrowserWindow<span class="token punctuation">.</span><span class="token function">getAllWindows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">createWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Quit when all windows are closed, except on macOS. There, it&#39;s common</span>
<span class="token comment">// for applications and their menu bar to stay active until the user quits</span>
<span class="token comment">// explicitly with Cmd + Q.</span>
app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;window-all-closed&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>platform <span class="token operator">!==</span> <span class="token string">&#39;darwin&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        app<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// In this file you can include the rest of your app&quot;s specific main process</span>
<span class="token comment">// code. You can also put them in separate files and require them here.</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆè·ƒå…¥çœ¼å¸˜çš„æ˜¯createWindowæ–¹æ³•ï¼Œæ–¹æ³•ä¸­åˆ›å»ºäº†ä¸€ä¸ªBrowserWindowå®ä¾‹åä¸ºmainWindowï¼ŒmainWindowå‡ ä¸ªå‚æ•°</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>  <span class="token keyword">const</span> mainWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">900</span><span class="token punctuation">,</span> <span class="token comment">//å®½åº¦</span>
    height<span class="token operator">:</span> <span class="token number">670</span><span class="token punctuation">,</span> <span class="token comment">//é«˜åº¦</span>
    show<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//æ˜¯å¦ä¸€å¼€å§‹å°±æ˜¾ç¤º</span>
    autoHideMenuBar<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//è‡ªåŠ¨éšè—å·¦ä¸Šæ–¹çš„å·¥å…·æ </span>
    <span class="token operator">...</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>platform <span class="token operator">===</span> <span class="token string">&#39;linux&#39;</span> <span class="token operator">?</span> <span class="token punctuation">{</span> icon <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//è®¾ç½®ç¨‹åºicon</span>
    webPreferences<span class="token operator">:</span> <span class="token punctuation">{</span>
        preload<span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../preload/index.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//é¢„åŠ è½½è„šæœ¬åœ°å€</span>
        sandbox<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">//ä¸æ˜¯å¾ˆæ‡‚è¿™ä¸ªsandboxï¼Œå®é™…ä¸Šå¼€å¯ä¹‹åä¹Ÿä¸ä¼šå¯¹ç¨‹åºæœ‰ç›´è§‚å½±å“</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äºæˆ‘ä»¬å°†showå±æ€§è®¾ç½®ä¸ºäº†falseï¼Œæ‰€ä»¥åªæ‰§è¡ŒcreateWindowå°†æ— æ³•æ‰“å¼€çª—å£ã€‚ç»§ç»­å‘ä¸‹çœ‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// ready-to-showäº‹ä»¶å®šä¹‰äº†ä¸€ä¸ªç›‘å¬ï¼Œå½“index.htmlå·²ç»åŠ è½½å®Œæ¯•åå°±ä¼šè§¦å‘ã€‚</span>
mainWindow<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;ready-to-show&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// BrowserWindow.showæ–¹æ³•æ‰“å¼€å½“å‰å®ä¾‹çª—å£</span>
    <span class="token comment">// ä»è¿™ä¸ªä½ç½®ä¹‹åå°±èƒ½çœ‹åˆ°çª—å£å¼¹å‡ºäº†</span>
    mainWindow<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
    
<span class="token comment">// ç”¨äºæ›¿æ¢window.openæ–¹æ³•ï¼Œè¿™é‡Œåæ‚”äº†denyï¼Œåˆ™æ°¸è¿œä¸ä¼šæ‰“å¼€æ–°çª—å£ï¼Œéœ€è¦æ‰“å¼€æ–°çª—å£åˆ™éœ€è¦éœ€è¦æ–°å»ºä¸€ä¸ªBrowserWindowå®ä¾‹æ‰“å¼€</span>
mainWindow<span class="token punctuation">.</span>webContents<span class="token punctuation">.</span><span class="token function">setWindowOpenHandler</span><span class="token punctuation">(</span><span class="token punctuation">(</span>details<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//ä»¥æ¡Œé¢çš„é»˜è®¤æ–¹å¼æ‰“å¼€urlï¼Œæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚</span>
    shell<span class="token punctuation">.</span><span class="token function">openExternal</span><span class="token punctuation">(</span>details<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> action<span class="token operator">:</span> <span class="token string">&#39;deny&#39;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å¦‚æœæ˜¯åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼ŒloadURLæ–¹æ³•ä¼šåŠ è½½viteæœåŠ¡çš„åœ°å€ï¼Œæ¯”å¦‚http://localhost:8080</span>
<span class="token comment">// å¦‚æœæ˜¯æ‰“åŒ…ä¹‹åï¼ŒloadFileæ–¹æ³•ä¼šåŠ è½½ä¸€ä¸ªåŸºäºå½“å‰æ–‡ä»¶å¤¹åœ°å€åŠ ä¸Šrenderer/index.htmlçš„æ–‡ä»¶</span>
<span class="token comment">// å…¶å®å°±æ˜¯æˆ‘ä»¬vueç¨‹åºçš„é‚£ä¸ªindex.html</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">is</span><span class="token punctuation">.</span>dev <span class="token operator">&amp;&amp;</span> process<span class="token punctuation">.</span>env<span class="token punctuation">[</span><span class="token string">&#39;ELECTRON_RENDERER_URL&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mainWindow<span class="token punctuation">.</span><span class="token function">loadURL</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">[</span><span class="token string">&#39;ELECTRON_RENDERER_URL&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    mainWindow<span class="token punctuation">.</span><span class="token function">loadFile</span><span class="token punctuation">(</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../renderer/index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ°è¿™é‡Œä¸ºæ­¢å‘¢ï¼Œä¸»è¿›ç¨‹çš„å¤§éƒ¨åˆ†ä»£ç å°±å·²ç»ç»“æŸäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯åœ¨app.whenReadyäº‹ä»¶ä¸­æ‰§è¡ŒcreatWindowæ–¹æ³•åˆ›å»ºå®ä¾‹å°±å¯ä»¥å•¦ã€‚</p><h3 id="é¢„åŠ è½½è„šæœ¬-1" tabindex="-1"><a class="header-anchor" href="#é¢„åŠ è½½è„šæœ¬-1" aria-hidden="true">#</a> é¢„åŠ è½½è„šæœ¬</h3><p>ä¸Šæ–‡è¯´åˆ°ï¼Œé¢„åŠ è½½è„šæœ¬ç”¨æ¥è§£å†³ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹é€šä¿¡çš„é—®é¢˜ã€‚é¢„åŠ è½½è„šæœ¬åœ¨preloadæ–‡ä»¶å¤¹ä¸­ï¼Œé¦–å…ˆæ¥çœ‹ä¸€æ®µé¢„åŠ è½½è„šæœ¬çš„ä»£ç ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> contextBridge <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;electron&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> electronAPI <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@electron-toolkit/preload&#39;</span>

<span class="token comment">// Custom APIs for renderer</span>
<span class="token keyword">const</span> api <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// process.contextIsolated ä¸Šä¸‹æ–‡éš”ç¦»ï¼Œè¿™ä¸ªå€¼è¦åœ¨ä¸»è¿›ç¨‹çš„webPreferencesä¸­å®šä¹‰ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸ºtrueçš„ã€‚</span>
<span class="token comment">// å¦‚æœå°†è¿™ä¸ªå€¼å®šä¹‰ä¸ºfalseï¼Œåˆ™åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­å¯ä»¥ç›´æ¥è®¿é—®nodeçš„apiè€Œä¸éœ€è¦é¢„åŠ è½½è„šæœ¬ã€‚</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>contextIsolated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// é€šè¿‡ä¸Šä¸‹æ–‡æ¡¥å°†electronAPIæš´éœ²åˆ°æ¸²æŸ“è¿›ç¨‹ä¸­ã€‚</span>
        contextBridge<span class="token punctuation">.</span><span class="token function">exposeInMainWorld</span><span class="token punctuation">(</span><span class="token string">&#39;electron&#39;</span><span class="token punctuation">,</span> electronAPI<span class="token punctuation">)</span>
        contextBridge<span class="token punctuation">.</span><span class="token function">exposeInMainWorld</span><span class="token punctuation">(</span><span class="token string">&#39;api&#39;</span><span class="token punctuation">,</span> api<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// @ts-ignore (define in dts)</span>
    window<span class="token punctuation">.</span>electron <span class="token operator">=</span> electronAPI
    <span class="token comment">// @ts-ignore (define in dts)</span>
    window<span class="token punctuation">.</span>api <span class="token operator">=</span> api
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¸Šé¢çš„é¢„åŠ è½½è„šæœ¬ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨vueä»£ç ä¸­è®¿é—®electronAPIäº†</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> versions <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>window<span class="token punctuation">.</span>electron<span class="token punctuation">.</span>process<span class="token punctuation">.</span>versions <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>versions<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>electron-version<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Electron v{{ versions.electron }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chrome-version<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Chromium v{{ versions.chrome }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>node-version<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Node v{{ versions.node }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>v8-version<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>V8 v{{ versions.v8 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ¸²æŸ“è¿›ç¨‹ä¸»åŠ¨è¯·æ±‚ä¸»è¿›ç¨‹ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#æ¸²æŸ“è¿›ç¨‹ä¸»åŠ¨è¯·æ±‚ä¸»è¿›ç¨‹ä¿¡æ¯" aria-hidden="true">#</a> æ¸²æŸ“è¿›ç¨‹ä¸»åŠ¨è¯·æ±‚ä¸»è¿›ç¨‹ä¿¡æ¯</h2><h3 id="å¯åŠ¨åŠ¨ç”»å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨åŠ¨ç”»å®ä¾‹" aria-hidden="true">#</a> å¯åŠ¨åŠ¨ç”»å®ä¾‹</h3><p>ä¸Šé¢è¯´äº†è¿›ç¨‹é—´çš„é€šä¿¡ä»¥åŠåˆ›å»ºä¸€ä¸ªåˆå§‹çš„windowï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å®ç°ä¸€ä¸ªappå¸¸è§çš„å¯åŠ¨åŠ¨ç”»ï¼š</p><figure><img src="`+v+'" alt="å¯åŠ¨åŠ¨ç”»" tabindex="0" loading="lazy"><figcaption>å¯åŠ¨åŠ¨ç”»</figcaption></figure>',25),R={href:"https://github.com/lljl500220/electron",target:"_blank",rel:"noopener noreferrer"};function q(A,C){const a=l("ExternalLinkIcon");return o(),c("div",null,[n("p",null,[s("æˆ‘æ¥æ‰‹çš„é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªå«åš "),n("a",b,[s("å…¨çœæˆå“æ²¹ä¸€ä½“åŒ–ç›‘ç®¡æœåŠ¡å¹³å°"),t(a)]),s("ã€‚æ˜¯ä»¥å‰ä¸€ä¸ªå‰ç«¯å†™çš„ï¼Œåæ¥æˆ‘æ¥æ‰‹åï¼Œä¸€åº¦è§‰å¾—æ˜¯ä¾æ‰˜ç­”è¾©ï¼Œ ä½†æ˜¯è‹¦äºä¸€ç›´æ²¡æœ‰æ—¶é—´é‡æ„ï¼Œä¸€ç›´æç½®åˆ°3æœˆåº•ã€‚è¶ç€æœ€è¿‘æ²¡éœ€æ±‚ï¼Œæ­£å¥½æŠŠä¸€ç›´æƒ³å­¦çš„electronå­¦ä¸€ä¸‹ã€‚")]),i(" more "),h,g,n("p",null,[n("a",w,[s("é¡¹ç›®åœ°å€github"),t(a)]),s(" è¯·å‰å¾€æ­¤å¤„é¢„è§ˆå’Œä¸‹è½½é¡¹ç›®æ–‡ä»¶")]),f,_,n("p",null,[s("é¦–å…ˆåœ¨ä½ çš„æ–‡ä»¶å¤¹ä¸­é€‰æ‹©ä¸€ä¸ªåœ°æ–¹ï¼Œæ–°å»ºæ–‡ä»¶electron-appï¼Œå½“ç„¶ä¹Ÿå¯ä¸ä¸æ–°å»ºï¼Œå› ä¸ºç­‰ä¸‹æˆ‘ä»¬å°†ä½¿ç”¨"),n("a",y,[s("electron-vite"),t(a)]),s("å‘½ä»¤æ–°å»ºè¿™ä¸ªå·¥ç¨‹ã€‚"),x,s(" ç¡®ä¿ä½ æœ‰å¦‚ä¸‹ç¯å¢ƒï¼š")]),E,n("p",null,[s("ä¸Šé¢ä¹Ÿæåˆ°äº†ï¼Œelectronæœ‰ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹çš„åŒºåˆ«ï¼Œæ­¤æ¦‚å¿µæ¥è‡ªäº"),n("a",W,[s("æµç¨‹æ¨¡å‹"),t(a)]),s(", æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿäº†ç°ä»£æµè§ˆå™¨ç»“æ„çš„æ¨¡å‹ï¼Œè§£å†³äº†ä¸€äº›å®‰å…¨é—®é¢˜ï¼Œæ­¤å¤„ä¸ç»†è¯´ï¼Œä¸Šé¢é“¾æ¥è¿›å»å¯ä»¥è‡ªè¡Œäº†è§£ã€‚")]),B,n("p",null,[s("ä¸Šé¢è¿™ä¸ªåŠ¨ç”»çš„æ–‡ä»¶å¯ä»¥åœ¨"),n("a",R,[s("é¡¹ç›®åœ°å€github"),t(a)]),s("è¿™é‡Œæ‰¾åˆ°ã€‚")])])}const I=p(m,[["render",q],["__file","electron.html.vue"]]);export{I as default};
