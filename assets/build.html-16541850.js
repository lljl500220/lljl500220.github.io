import{_ as s,V as a,W as n,a2 as e}from"./framework-82b537ca.js";const t={},p=e(`<h2 id="build-js" tabindex="-1"><a class="header-anchor" href="#build-js" aria-hidden="true">#</a> build.js</h2><p>在packages文件夹同级新建一个scripts文件夹，添加一个build.js文件。我们将通过这个文件来读取模块文件，并构建输出。</p><h3 id="文件读取" tabindex="-1"><a class="header-anchor" href="#文件读取" aria-hidden="true">#</a> 文件读取</h3><p>由于vue3的核心代码使用分包的形式，分别写在packages/reactivity、packages/runtime-core、packages/shared等文件夹下，我们需要将这些文件读取出来，然后合并到一个文件中。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">&#39;node:fs/promises&#39;</span><span class="token punctuation">;</span> <span class="token comment">//fs模块用于操作文件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>existsSync<span class="token punctuation">,</span>readfileSync<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;node:fs&#39;</span><span class="token punctuation">;</span> <span class="token comment">//判断文件是否存在，读取文件</span>
<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;node:path&#39;</span><span class="token punctuation">;</span> <span class="token comment">//path模块用于操作文件路径</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>creatrequire<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;node:module&#39;</span><span class="token punctuation">;</span> <span class="token comment">//require模块用于引入模块</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),o=[p];function c(i,r){return a(),n("div",null,o)}const d=s(t,[["render",c],["__file","build.html.vue"]]);export{d as default};
